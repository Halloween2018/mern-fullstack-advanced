{"version":3,"sources":["../server/issue.js"],"names":["validIssueStatus","New","Open","Assigned","Fixed","Verified","closed","issueFieldType","status","owner","effort","created","completionDate","title","validateIssue","issue","field","type"],"mappings":";;;;;AAAA;;AAEA,IAAMA,mBAAmB;AACrBC,MAAK,IADgB;AAExBC,OAAM,IAFkB;AAGxBC,WAAU,IAHc;AAIxBC,QAAO,IAJiB;AAKxBC,WAAU,IALc;AAMxBC,SAAS;AANe,CAAzB;;AASA,IAAMC,iBAAiB;AACtBC,SAAQ,UADc;AAEtBC,QAAO,UAFe;AAGnBC,SAAQ,UAHW;AAInBC,UAAS,UAJU;AAKtBC,iBAAgB,UALM;AAMtBC,QAAO;AANe,CAAvB;;AASA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC7B,MAAK,IAAMC,KAAX,IAAoBT,cAApB,EAAoC;AACnC,MAAMU,OAAOV,eAAeS,KAAf,CAAb;AACA,MAAI,CAACC,IAAL,EAAW;AAAE;AACZ,UAAOF,MAAMC,KAAN,CAAP;AACA,GAFD,MAEM,IAAIC,SAAS,UAAT,IAAuB,CAACF,MAAMC,KAAN,CAA5B,EAA0C;AAAG;AAClD,UAAUA,KAAV;AACA;AACD;;AAED,KAAI,CAAChB,iBAAiBe,MAAMP,MAAvB,CAAL,EAAqC;AACpC,SAAUO,MAAMP,MAAhB;;AAED,QAAO,IAAP;AACA;;kBAIc;AACXM,gBAAeA;AADJ,C","file":"issue.js","sourcesContent":["// 'use strict';\r\n\r\nconst validIssueStatus = {\r\n    New: true,\r\n\tOpen: true,\r\n\tAssigned: true,\r\n\tFixed: true,\r\n\tVerified: true,\r\n\tclosed:  true,\r\n};\r\n\r\nconst issueFieldType = {\r\n\tstatus: 'required',\r\n\towner: 'required',\r\n    effort: 'optional',\r\n    created: 'required',\r\n\tcompletionDate: 'optional',\r\n\ttitle: 'required',\r\n};\r\n\r\nfunction validateIssue(issue) {   \r\n\tfor (const field in issueFieldType) {\r\n\t\tconst type = issueFieldType[field];\r\n\t\tif (!type) {\t//检测类型是否需要,这一步有点多余\r\n\t\t\tdelete issue[field];\r\n\t\t}else if (type === 'required' && !issue[field]) {\t\t//检测输入的类型是否必要的且存在\r\n\t\t\treturn `${field} is required.`;\r\n\t\t}\r\n\t}\r\n\r\n\tif( !validIssueStatus[issue.status])\t//判断列表的类型\r\n\t\treturn `${issue.status} is not valid status. ` ;\r\n\r\n\treturn null;\r\n} \r\n\r\n\r\n\r\nexport default {\r\n    validateIssue: validateIssue\r\n}\r\n\r\n"]}